/**
 * Form Components
 * 
 * Reusable form element styles following BEM naming conventions.
 * All form inputs, textareas, selects, and labels use design tokens
 * for consistent styling across the application.
 * 
 * BEM STRUCTURE:
 * - .form: Base form container (block)
 * - .form__group: Container for label + input pairs (element)
 * - .form__label: Label element styling (element)
 * - .form__input: Text input styling (element)
 * - .form__textarea: Textarea styling (element)
 * - .form__select: Select dropdown styling (element)
 * 
 * STATES:
 * - :focus - Focus state for inputs
 * - :hover - Hover state for interactive elements
 * - :disabled - Disabled state
 * - .is-error - Error state
 * - .is-success - Success state
 * 
 * SPECIFICITY: All selectors maintain (0,0,1,0) or (0,0,2,0) maximum
 * 
 * EXTRACTED FROM: index.css, configurator.css (contact form styles)
 * REQUIREMENTS: 8.3
 */

/* ============================================
   FORM CONTAINER
   ============================================ */

.form {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

/* ============================================
   FORM GROUP CONTAINER
   ============================================ */

.form__group {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

/* ============================================
   LABEL
   ============================================ */

.form__label {
  font-family: var(--font-body);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  line-height: 1.1;
}

/* ============================================
   TEXT INPUT
   ============================================ */

.form__input {
  padding: var(--spacing-md);
  font-family: var(--font-body);
  font-size: var(--font-size-base);
  color: var(--color-text-primary);
  background: var(--color-card-bg);
  border: 2px solid var(--color-border);
  border-radius: var(--radius);
  transition: border-color var(--duration-normal) var(--easing-standard);
}

.form__input:focus {
  outline: none;
  border-color: var(--color-accent);
}

.form__input:hover {
  border-color: var(--color-primary);
}

.form__input::placeholder {
  color: var(--color-text-muted);
}

.form__input:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  background: var(--color-canvas-light);
}

/* ============================================
   TEXTAREA
   ============================================ */

.form__textarea {
  padding: var(--spacing-md);
  font-family: var(--font-body);
  font-size: var(--font-size-base);
  color: var(--color-text-primary);
  background: var(--color-card-bg);
  border: 2px solid var(--color-border);
  border-radius: var(--radius);
  min-height: 120px;
  resize: vertical;
  transition: border-color var(--duration-normal) var(--easing-standard);
}

.form__textarea:focus {
  outline: none;
  border-color: var(--color-accent);
}

.form__textarea:hover {
  border-color: var(--color-primary);
}

.form__textarea::placeholder {
  color: var(--color-text-muted);
}

.form__textarea:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  background: var(--color-canvas-light);
}

/* ============================================
   SELECT DROPDOWN
   ============================================ */

.form__select {
  padding: var(--spacing-sm) var(--spacing-md);
  font-family: var(--font-body);
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
  background: var(--color-glass-bg);
  border: 1px solid var(--color-glass-border);
  border-radius: var(--radius);
  backdrop-filter: blur(10px);
  cursor: pointer;
  transition: all var(--duration-normal) var(--easing-standard);
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23666' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right var(--spacing-sm) center;
  padding-right: var(--spacing-xl);
}

.form__select:hover {
  background-color: var(--color-glass-bg-hover);
  border-color: var(--color-accent);
}

.form__select:focus {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
  border-color: var(--color-accent);
}

.form__select:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* ============================================
   STATE MODIFIERS
   ============================================ */

/* Error state */
.form__input.is-error,
.form__textarea.is-error,
.form__select.is-error {
  border-color: var(--color-error);
}

/* Error focus state - simplified to reduce specificity */
.is-error:focus {
  outline-color: var(--color-error);
  border-color: var(--color-error);
}

/* Success state */
.form__input.is-success,
.form__textarea.is-success,
.form__select.is-success {
  border-color: var(--color-success);
}

/* Success focus state - simplified to reduce specificity */
.is-success:focus {
  outline-color: var(--color-success);
  border-color: var(--color-success);
}

/* ============================================
   LEGACY SUPPORT (Backwards Compatibility)
   ============================================
   Support old class names during migration.
   TODO Phase 4: Remove these after updating all components. */

.form-group {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.form-label {
  font-family: var(--font-body);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  line-height: 1.1;
}

.form-input {
  padding: var(--spacing-md);
  font-family: var(--font-body);
  font-size: var(--font-size-base);
  color: var(--color-text-primary);
  background: var(--color-card-bg);
  border: 2px solid var(--color-border);
  border-radius: var(--radius);
  transition: border-color var(--duration-normal) var(--easing-standard);
}

.form-input:focus {
  outline: none;
  border-color: var(--color-accent);
}

.form-input:hover {
  border-color: var(--color-primary);
}

.form-input::placeholder {
  color: var(--color-text-muted);
}

.form-input:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  background: var(--color-canvas-light);
}

.form-textarea {
  padding: var(--spacing-md);
  font-family: var(--font-body);
  font-size: var(--font-size-base);
  color: var(--color-text-primary);
  background: var(--color-card-bg);
  border: 2px solid var(--color-border);
  border-radius: var(--radius);
  min-height: 120px;
  resize: vertical;
  transition: border-color var(--duration-normal) var(--easing-standard);
}

.form-textarea:focus {
  outline: none;
  border-color: var(--color-accent);
}

.form-textarea:hover {
  border-color: var(--color-primary);
}

.form-textarea::placeholder {
  color: var(--color-text-muted);
}

.form-textarea:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  background: var(--color-canvas-light);
}

.form-select {
  padding: var(--spacing-sm) var(--spacing-md);
  font-family: var(--font-body);
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
  background: var(--color-glass-bg);
  border: 1px solid var(--color-glass-border);
  border-radius: var(--radius);
  backdrop-filter: blur(10px);
  cursor: pointer;
  transition: all var(--duration-normal) var(--easing-standard);
}

.form-select:hover {
  background-color: var(--color-glass-bg-hover);
  border-color: var(--color-accent);
}

.form-select:focus {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
  border-color: var(--color-accent);
}

.form-select:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.form-input.is-error,
.form-textarea.is-error,
.form-select.is-error {
  border-color: var(--color-error);
}

/* Focus states handled by .is-error:focus and .is-success:focus above */

.form-input.is-success,
.form-textarea.is-success,
.form-select.is-success {
  border-color: var(--color-success);
}

/* ============================================
   THEME OVERRIDES
   ============================================ */

[data-theme="dark"] .form__input,
[data-theme="dark"] .form__textarea,
[data-theme="dark"] .form-input,
[data-theme="dark"] .form-textarea {
  background: var(--color-card-bg-dark);
  border-color: var(--color-border-dark);
}

[data-theme="dark"] .form__select,
[data-theme="dark"] .form-select {
  background: var(--color-glass-bg-dark);
  border-color: var(--color-glass-border-dark);
}

/* Disabled state in dark theme - simplified selector */
[data-theme="dark"] :disabled {
  background: var(--color-canvas-dark);
}
